<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eremo Frate Francesco</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Open+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="stylebase.css">
  <link rel="stylesheet" href="index.css">
</head>
<body>
<header>
  <div class="navbar-container">
    <nav class="navbar">
      <a href="index.html" class="logo">
        <span class="emoji">üèîÔ∏è</span>
        <span class="text">Eremo Frate Francesco</span>
      </a>
      <div class="menu">
        <a href="chi-siamo.html">Chi siamo</a>
        <a href="eventiincorso.html">Attivit√†</a>
        <a href="incontrisullaparola.html">Incontri</a>
        <a href="dovesiamo.html">Dove siamo</a>
        <a href="contatti.html">Contatti</a>
      </div>
      <div class="right-menu">
        <a href="#" id="loginBtn" class="login">Accedi</a>
        <button class="hamburger">‚ò∞</button>
      </div>
    </nav>
    <div class="mobile-menu">
      <a href="chi-siamo.html">Chi siamo</a>
      <a href="eventiincorso.html">Attivit√†</a>
      <a href="incontrisullaparola.html">Incontri</a>
      <a href="dovesiamo.html">Dove siamo</a>
      <a href="contatti.html">Contatti</a>
      <a href="#" id="mobileLoginBtn">Accedi</a>
    </div>
  </div>
</header>

<!-- Auth Popup -->
<div class="popup-overlay" id="authPopup">
  <div class="popup-content glass-panel">
    <div class="popup-close" id="closeAuthPopup">
      <i class="fas fa-times"></i>
    </div>
    <form id="loginForm">
      <h2 class="text-center mb-4"><i class="fas fa-fingerprint me-2"></i>Accesso</h2>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" id="loginEmail"
               placeholder="nome@esempio.com" required>
      </div>
      <div class="mb-4 position-relative">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" id="loginPassword" required>
        <span class="password-toggle" id="toggleLoginPassword">
          <i class="fas fa-eye"></i>
        </span>
      </div>
      <button type="submit" class="btn-glow w-100">
        <i class="fas fa-unlock me-2"></i>Accedi
      </button>
      <div class="text-center mt-3">
        <a href="#" id="switchToRegister">Non hai un account? Registrati</a>
      </div>
    </form>

    <form id="registerForm" style="display: none;">
      <h2 class="text-center mb-4"><i class="fas fa-id-card me-2"></i>Registrazione</h2>
      <div class="mb-3">
        <label class="form-label">Nome</label>
        <input type="text" class="form-control" id="registerName" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Cognome</label>
        <input type="text" class="form-control" id="registerSurname" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" id="registerEmail" required>
      </div>
      <div class="mb-3 position-relative">
        <label class="form-label">Crea password</label>
        <input type="password" class="form-control" id="registerPassword" required>
        <span class="password-toggle" id="toggleRegisterPassword">
          <i class="fas fa-eye"></i>
        </span>
      </div>
      <div class="mb-4">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="privacyCheck" required>
          <label class="form-check-label">
            Accetto il <a href="#" class="text-white">trattamento dei dati personali</a>
          </label>
        </div>
      </div>
      <button type="submit" class="btn-glow w-100">
        <i class="fas fa-user-check me-2"></i>Registrati
      </button>
      <div class="text-center mt-3">
        <a href="#" id="switchToLogin">Hai gi√† un account? Accedi</a>
      </div>
    </form>
  </div>
</div>

<!-- User Menu -->
<div class="user-menu" id="userMenu" style="display: none;">
  <div class="user-avatar" id="userAvatar">
    <i class="fas fa-user"></i>
  </div>
  <div class="user-dropdown glass-panel" id="userDropdown">
    <div class="user-dropdown-item" id="profileBtn">
      <i class="fas fa-user-circle"></i>
      <span>Profilo</span>
    </div>
    <div class="user-dropdown-item" id="logoutBtn">
      <i class="fas fa-sign-out-alt"></i>
      <span>Esci</span>
    </div>
  </div>
</div>

<!-- Alert Box -->
<div class="alert" id="alertBox"></div>

<section class="hero">
  <div class="hero-content">
    <h1>Spazio Sacro nella Natura</h1>
    <p>Un rifugio contemplativo tra le Prealpi Bergamasche</p>
  </div>
</section>

<section class="features">
  <div class="feature-card">
    <div class="feature-image" style="background-image: url('https://picsum.photos/400/300?nature')"></div>
    <h3>Storia e Tradizione</h3>
    <p>Un eremo secolare che custodisce storie di spiritualit√†</p>
  </div>
  <div class="feature-card">
    <div class="feature-image" style="background-image: url('https://picsum.photos/400/300?forest')"></div>
    <h3>Natura Contemplativa</h3>
    <p>15 ettari di bosco per riconnettersi con il creato</p>
  </div>
  <div class="feature-card">
    <div class="feature-image" style="background-image: url('https://picsum.photos/400/300?meditation')"></div>
    <h3>Percorsi Spirituali</h3>
    <p>Esperienze guidate per la crescita interiore</p>
  </div>
</section>

<footer>
  <p>&copy; 2025 Eremo Frate Francesco - Tutti i diritti riservati</p>
  <p>Via della Spiritualit√† 123, Nembro (BG)</p>
</footer>

<script>
  // Menu Mobile
  document.querySelector('.hamburger').addEventListener('click', () => {
    document.querySelector('.mobile-menu').classList.toggle('open');
  });

  // Auth System
  document.addEventListener('DOMContentLoaded', function() {
    // Elements
    const authPopup = document.getElementById('authPopup');
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    const switchToRegister = document.getElementById('switchToRegister');
    const switchToLogin = document.getElementById('switchToLogin');
    const closeAuthPopup = document.getElementById('closeAuthPopup');
    const loginBtn = document.getElementById('loginBtn');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    const userMenu = document.getElementById('userMenu');
    const userAvatar = document.getElementById('userAvatar');
    const userDropdown = document.getElementById('userDropdown');
    const profileBtn = document.getElementById('profileBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const alertBox = document.getElementById('alertBox');

    // Toggle auth popup
    function toggleAuthPopup(formType) {
      authPopup.classList.add('active');
      if(formType === 'login') {
        loginForm.style.display = 'block';
        registerForm.style.display = 'none';
      } else {
        registerForm.style.display = 'block';
        loginForm.style.display = 'none';
      }
    }

    // Toggle password visibility
    function togglePasswordVisibility(fieldId) {
      const field = document.getElementById(fieldId);
      const icon = field.nextElementSibling.querySelector('i');
      field.type = field.type === 'password' ? 'text' : 'password';
      icon.classList.toggle('fa-eye-slash');
    }

    // Show alert
    function showAlert(message, type) {
      alertBox.textContent = message;
      alertBox.className = `alert alert-${type} show`;

      setTimeout(() => {
        alertBox.classList.remove('show');
      }, 3000);
    }

    // Check auth state
    function checkAuthState() {
      const authData = JSON.parse(localStorage.getItem('eremoAuth'));
      if(authData) {
        userMenu.style.display = 'block';
        if(loginBtn) loginBtn.style.display = 'none';
        if(mobileLoginBtn) mobileLoginBtn.style.display = 'none';
      } else {
        userMenu.style.display = 'none';
        if(loginBtn) loginBtn.style.display = 'block';
        if(mobileLoginBtn) mobileLoginBtn.style.display = 'block';
      }
    }

    // Event listeners
    if(loginBtn) loginBtn.addEventListener('click', () => toggleAuthPopup('login'));
    if(mobileLoginBtn) mobileLoginBtn.addEventListener('click', () => toggleAuthPopup('login'));
    switchToRegister.addEventListener('click', (e) => {
      e.preventDefault();
      toggleAuthPopup('register');
    });
    switchToLogin.addEventListener('click', (e) => {
      e.preventDefault();
      toggleAuthPopup('login');
    });
    closeAuthPopup.addEventListener('click', () => authPopup.classList.remove('active'));

    // Password toggles
    document.getElementById('toggleLoginPassword').addEventListener('click', () =>
            togglePasswordVisibility('loginPassword'));
    document.getElementById('toggleRegisterPassword').addEventListener('click', () =>
            togglePasswordVisibility('registerPassword'));

    // Form submissions
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      if(!email || !password) {
        showAlert('Compila tutti i campi', 'danger');
        return;
      }

      // Simulate login
      localStorage.setItem('eremoAuth', JSON.stringify({ email }));
      authPopup.classList.remove('active');
      showAlert('Accesso effettuato con successo!', 'success');
      checkAuthState();
    });

    registerForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('registerName').value;
      const surname = document.getElementById('registerSurname').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;

      if(!name || !surname || !email || !password) {
        showAlert('Compila tutti i campi', 'danger');
        return;
      }

      if(!document.getElementById('privacyCheck').checked) {
        showAlert('Devi accettare il trattamento dei dati', 'danger');
        return;
      }

      // Simulate registration
      localStorage.setItem('eremoAuth', JSON.stringify({
        name, surname, email
      }));
      authPopup.classList.remove('active');
      showAlert('Registrazione completata con successo!', 'success');
      checkAuthState();
    });

    // User menu
    userAvatar.addEventListener('click', function(e) {
      e.stopPropagation();
      userDropdown.classList.toggle('active');
    });

    profileBtn.addEventListener('click', function() {
      userDropdown.classList.remove('active');
      showAlert('Pagina profilo in sviluppo', 'info');
    });

    logoutBtn.addEventListener('click', function() {
      localStorage.removeItem('eremoAuth');
      showAlert('Logout effettuato', 'success');
      checkAuthState();
      userDropdown.classList.remove('active');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
      if(!userMenu.contains(e.target)) {
        userDropdown.classList.remove('active');
      }
    });

    // Initial check
    checkAuthState();
  });
</script>
</body>
</html>